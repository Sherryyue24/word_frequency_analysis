# 软件需求规格说明书 (SRS)

## 1. 引言

### 1.1 目的
定义英文书籍词汇分析工具的功能和性能要求，为开发、测试及验收提供标准。

### 1.2 范围
提供命令行界面，实现书籍文件解析、词汇统计、词表匹配、语言学分析与报告导出。

### 1.3 术语表
- **CLI**：命令行界面
- **MVP**：最小可行产品
- **词表**：CET4、CET6、TOEFL、GRE、个人词库集合
- **词频**：单词出现次数
- **匹配率**：词表词汇在文本中出现百分比
- **词根**：词汇的基本形式（lemma）
- **语言学特征**：词性、形态学等语言分析信息


## 2. 总体描述

### 2.1 用户角色
- **主用户**：英语学习者，通过 CLI 使用工具。
- **高级用户**：未来通过 API 或前端调用服务。

### 2.2 使用场景
1. 用户执行命令上传书籍；
2. 系统解析 → 分词 → 语言学分析 → 匹配 → 生成报告；
3. 用户查看、查询或导出结果。

### 2.3 约束
- 支持 `.txt`、`.pdf`、`.docx`；
- 依赖 Python 3.9+、NLTK；
- 单机执行环境。


## 3. 功能需求

### 3.1 MVP核心功能 (v1.0)

| 编号 | 功能模块           | 描述                                                            | 输入                        | 输出                                        |
|------|------------------|---------------------------------------------------------------|-----------------------------|---------------------------------------------|
| FR1  | 文件解析         | 读取并提取 `.txt`、`.pdf`、`.docx` 中纯文本                        | 文件路径                     | 原始文本字符串                              |
| FR2  | 基础统计         | 文本分词，统计总词汇数（含重复）、不重复词汇数、词长分布等               | 文本字符串                   | 词汇总数、去重词数、频率分布、词长统计        |
| FR3  | 词表匹配         | 与多词表（CET4、CET6、TOEFL、GRE）比对，统计匹配数量和比例            | 文本词汇列表；词表文件路径列表 | 每词表匹配数量、匹配比例、示例词              |
| FR5  | 语言学分析       | 词性标注、形态学分析（前缀后缀）、词汇变形识别                        | 词汇列表、上下文文本          | 词性信息、形态学特征、词汇变形关系            |
| FR6  | 报告导出         | 输出 TXT/CSV/JSON/Excel 格式报告，支持保存或打印                   | 分析结果                     | 可下载的报告文件                            |
| FR7  | 词汇查询         | 支持词汇搜索、词性查询、变形查询、统计查看                          | 查询词汇、查询条件            | 词汇详细信息、统计数据                      |

### 3.2 后续版本功能 (v2.0+)

| 编号 | 功能模块           | 描述                                                            | 输入                        | 输出                                        |
|------|------------------|---------------------------------------------------------------|-----------------------------|---------------------------------------------|
| FR4  | 难度评估与建议     | 基于未知词比例、覆盖度、个人词表等计算综合难度分，给出阅读/学习建议     | 匹配与统计数据、个人词表       | 难度分数；阅读策略；个性化建议                |
| FR8  | 个人词表管理       | 用户可创建、编辑、导入个人词汇表，支持已掌握/学习中/未掌握等状态管理     | 个人词汇、掌握状态            | 个人词表、学习进度、掌握度统计                |
| FR9  | 学习路径推荐       | 基于个人词表掌握情况，推荐适合的阅读材料和学习计划                    | 个人学习数据、目标设定         | 个性化学习路径、材料推荐                    |
| FR10 | EPUB支持         | 添加EPUB电子书格式支持                                           | EPUB文件路径                 | 提取的文本内容                              |

## 4. 非功能需求

| 类别      | 要求                                             |
|---------|------------------------------------------------|
| 性能      | 处理 10 万词书籍平均耗时 ≤ 10 秒               |
| 可用性    | 提供 `--help`，交互提示友好；错误提示清晰        |
| 可扩展性  | 模块解耦、接口文档化、支持新词表和格式扩展        |
| 可靠性    | 错误率 < 1%，日志与异常捕获                      |
| 安全性    | 文件输入安全检查；后续 API 需认证与限流          |
| 兼容性    | 支持 Windows、macOS、Linux                       |

## 5. 约束与依赖

### 5.1 技术栈
- **语言**：Python 3.9+
- **核心库**：Click, Rich, PyPDF2, python-docx, NLTK, sqlite3
- **可选库**：pandas, numpy（用于数据分析）
- **管理工具**：Git, virtualenv, requirements.txt

### 5.2 数据依赖
- **词表文件**：CET4、CET6、TOEFL、GRE词汇表
- **语言模型**：NLTK数据包（punkt、averaged_perceptron_tagger等）

### 5.3 系统架构
- **数据库**：SQLite（统一数据库设计）
- **模块结构**：输入处理、数据库引擎、词汇分析、语言学分析、CLI接口

## 6. 验收标准

### 6.1 MVP版本验收标准 (v1.0)
- FR1、FR2、FR3、FR5、FR6、FR7 功能正确率 ≥ 95%；
- 性能指标满足平均耗时 ≤ 10 秒；
- 测试覆盖率 ≥ 80%；
- 文档完备，无缺失功能说明；
- 支持的文件格式：TXT、PDF、DOCX；
- 支持的词表：CET4、CET6、TOEFL、GRE；
- CLI命令完整性和易用性验证。

### 6.2 后续版本验收标准 (v2.0+)
- FR4、FR8、FR9功能正确实现；
- 个人词表管理功能完整；
- 难度评估算法准确性验证；
- EPUB格式支持（FR10）。

## 7. 当前实现状态

### 7.1 已实现功能 ✅
- **文件解析**：TXT、PDF、DOCX格式支持
- **基础统计**：完整的词频、词长、分布统计
- **词表匹配**：CET4、CET6、TOEFL、GRE四个词表
- **语言学分析**：词性标注、形态学分析、词汇变形
- **报告导出**：TXT、CSV、JSON、Excel多格式
- **词汇查询**：词汇搜索、词性查询、变形查询、统计查看
- **数据库**：统一SQLite数据库设计
- **CLI接口**：完整的命令行工具

### 7.2 核心统计指标
- 📊 **已处理文档**：22个文档
- 🔤 **词汇规模**：14,468个原始词汇形式，11,932个独特词根
- 📝 **词频记录**：24,732条
- 📚 **词表覆盖**：14,479个词汇（4个词表）
- 🧠 **语言学分析**：4,285个词汇完成词性标注

### 7.3 待实现功能 🔄
- **难度评估**：需要个人词表支持后实现
- **个人词表管理**：v2.0版本核心功能
- **EPUB支持**：格式扩展
- **学习路径推荐**：基于个人数据的智能推荐

## 8. 版本规划

### v1.0 (当前版本) - MVP核心功能
专注于文本分析和词表匹配的基础功能，为后续个性化功能打好基础。

### v2.0 (规划中) - 个性化学习支持
在MVP基础上，增加个人词表管理和难度评估，实现真正的个性化英语学习工具。

### v3.0 (远期规划) - 智能化扩展
学习路径推荐、多格式支持、Web界面等高级功能。

